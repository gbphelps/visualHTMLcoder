!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);const a=e=>`rgb(${e[0]},${e[1]},${e[2]})`,n=(e,t,r,a)=>{const n=document.createElement(e);return Object.assign(n,r),t.append(n),a&&Object.assign(n.style,a),n},c=e=>{const t=e/slider.height*6;let r=255*(t-Math.floor(t));switch(Math.floor(t)){case 0:return[255,r,0];case 1:return[255-r,255,0];case 2:return[0,255,r];case 3:return[0,255-r,255];case 4:return[r,0,255];case 5:return[255,0,255-r];case 6:return[255,0,0]}},o=e=>{const t=document.getElementById("canvas"),r=t.getContext("2d");t.color=e;const a=r.createImageData(t.width,t.height);i(a),r.putImageData(a,0,0),d(t)},i=e=>{const{width:t,height:r,color:a}=document.getElementById("canvas");for(let n=0;n<r*t;n++){const c=Math.floor(n/t),o=Math.floor(n%t),i=r-c;let d=Math.atan(i/o);const s=(Math.PI/3-d)/(Math.PI/3);let l=Math.sqrt(o*o+i*i)/canvas.width;l=l*Math.cos(Math.PI/6-d)/(Math.sqrt(3)/2),s<0||s>1||l>1||(e.data[4*n+0]=(a[0]+(255-a[0])*s)*l,e.data[4*n+1]=(a[1]+(255-a[1])*s)*l,e.data[4*n+2]=(a[2]+(255-a[2])*s)*l,e.data[4*n+3]=255)}},d=e=>{const t=e.getContext("2d"),r=t.createLinearGradient(0,0,e.width/2,0);r.addColorStop(0,"black"),r.addColorStop(1,a(e.color));const n=t.createLinearGradient(e.width/2,0,e.width,0);n.addColorStop(0,a(e.color)),n.addColorStop(1,"white"),t.beginPath(),t.moveTo(1,e.height-.5),t.lineTo(e.width/2+.5,.5),t.strokeStyle=r,t.stroke(),t.closePath(),t.beginPath(),t.moveTo(e.width/2+.5,.5),t.lineTo(e.width,e.height-.5),t.strokeStyle=n,t.stroke(),t.closePath()},s=()=>{const e=dragger2.x,t=canvas.height-dragger2.y;let r=Math.atan(t/e);const n=(Math.PI/3-r)/(Math.PI/3);let c=Math.sqrt(e*e+t*t)/canvas.width;c=c*Math.cos(Math.PI/6-r)/(Math.sqrt(3)/2);let o=Math.round((canvas.color[0]+(255-canvas.color[0])*n)*c)||0,i=Math.round((canvas.color[1]+(255-canvas.color[1])*n)*c)||0,d=Math.round((canvas.color[2]+(255-canvas.color[2])*n)*c)||0;dragger2.color=[o,i,d],dragger2.style.background=a([o,i,d])},l=()=>{const e=document.getElementById("swatch");e.style.background=a(dragger2.color);const t=dragger2.color.reduce((e,t)=>e+=t)-255;e.style.color=t<382.5?"white":"black",dragger2.color.forEach((e,t)=>{document.getElementById(`color-${t}`).value=e})},h=({x:e,y:t,status:r})=>{void 0!==r&&(dragger.status=+r,dragger.style.background=a(c(r)),o(c(r)),dragger.style.top=dragger.status-dragger.diameter/2+"px"),void 0!==e&&(dragger2.x=e,dragger2.style.left=dragger2.x-dragger2.diameter/2+"px"),void 0!==t&&(dragger2.y=t,dragger2.style.top=dragger2.y-dragger2.diameter/2+"px"),s(),l()},g=e=>{e.preventDefault();let t=e.clientX,r=e.clientY;const a=e=>{const a=e.clientX-t,n=e.clientY-r,c=dragger2.x+a,o=dragger2.y+n;canvas.getBoundingClientRect();let i,d;-canvas.height*(2*c/canvas.width-1)>o?Math.abs(n/a)>Math.sqrt(3)?(d=o,i=canvas.width/2*(1-o/canvas.height)):(i=c,d=-canvas.height*(2*c/canvas.width-1)):canvas.height*(2*c/canvas.width-1)>o?Math.abs(n/a)>Math.sqrt(3)?(d=o,i=canvas.width/2*(o/canvas.height+1)):(i=c,d=canvas.height*(2*c/canvas.width-1)):(i=c,d=o),d>canvas.height?d=canvas.height:d<0&&(d=0),i>canvas.width?i=canvas.width:i<0&&(i=0),o<0&&(d=0,i=canvas.width/2),t=e.clientX,r=e.clientY,h({x:i,y:d})};document.addEventListener("mousemove",a),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",a)},{once:!0})},u=e=>{e.preventDefault();let t=e.clientY;const r=e=>{const r=e.clientY-t,a=dragger.status+r;a>slider.height?status=slider.height:a<0?status=0:(status=a,t=e.clientY),h({status:status})};document.addEventListener("mousemove",r),document.addEventListener("mouseup",e=>{document.removeEventListener("mousemove",r)},{once:!0})},v=e=>{const t=[];for(let r=0;r<3;r++){const a=document.getElementById(`color-${r}`);let n=+a.value;if(a===e.target&&!(n>=0&&n<=255))return void(a.value=a.last);t.push(n),a.last=n}h((e=>{const t=document.getElementById("canvas");let[r,a,n]=Array.from(e).sort((e,t)=>e-t);const c=r/n,o=255*(a-r)/(n-r);let i=[];n!==r?e.forEach(e=>{switch(e){case n:i.push(255);break;case r:i.push(0);break;default:i.push(o)}}):i=t.color;const d=Math.PI/3-Math.PI/3*c;let s=Math.sqrt(3)*n*t.width/2/255/Math.cos(Math.PI/6-d)/Math.sqrt(1+Math.tan(d)*Math.tan(d)),l=t.height-s*Math.tan(d);return 0===n?(s=0,l=t.height):255===r&&(s=t.width,l=t.height),{x:s,y:l,status:(e=>{let t;return 255===e[0]&&0===e[2]?t=0+e[1]/255:255===e[1]&&0===e[2]?t=2-e[0]/255:255===e[1]&&0===e[0]?t=2+e[2]/255:255===e[2]&&0===e[0]?t=4-e[1]/255:255===e[2]&&0===e[1]?t=4+e[0]/255:255===e[0]&&0===e[1]&&(t=6-e[2]/255),t})(i)*t.height/6}})(t))},m=()=>{const e=n("DIV",container,{id:"swatch"},{background:a(canvas.color)}),t=document.createElement("INPUT");t.id="color-0";const r=document.createElement("INPUT");r.id="color-1";const c=document.createElement("INPUT");c.id="color-2",[t,r,c].forEach(e=>{e.setAttribute("size",3),e.addEventListener("input",v),e.addEventListener("focus",e=>e.target.select())}),n("SPAN",e,{innerHTML:"rgb("}),e.append(t),n("SPAN",e,{innerHTML:","}),e.append(r),n("SPAN",e,{innerHTML:","}),e.append(c),n("SPAN",e,{innerHTML:")"})},p=e=>{n("DIV",picker,{id:"dragger2",color:canvas.color,diameter:e,x:canvas.width/2,y:0},{height:e+"px",width:e+"px",borderRadius:"50%",left:(canvas.width-e)/2+"px",top:-e/2+"px"}).addEventListener("mousedown",g)},M=e=>{const t=n("CANVAS",picker,{id:"canvas",height:Math.round(e*Math.sqrt(3)/2),width:e});o([255,0,0,255]);t.getContext("2d")},y=(e,t)=>{n("DIV",container,{id:"slider",height:t,width:e},{position:"relative",width:e+"px",height:t+"px"})},w=e=>{let[t,r]=[e.clientX,e.clientY];const a=e=>{const n=[e.clientX-t,-(e.clientY-r)],c=circleDragger.y*circleDragger.y+circleDragger.x*circleDragger.x,o=[-circleDragger.y,circleDragger.x],i=(n[0]*o[0]+n[1]*o[1])/c;let d,s;const l=(spectrumContainer.width-circleDragger.diameter)/2;Math.abs(o[0])>Math.abs(o[1])?(d=circleDragger.x+o[0]*i,s=circleDragger.y>circleDragger.x?Math.sqrt(l*l-d*d):-Math.sqrt(l*l-d*d)):(s=circleDragger.y+o[1]*i,d=-Math.abs(circleDragger.y)<circleDragger.x?Math.sqrt(l*l-s*s):-Math.sqrt(l*l-s*s)),x({x:d,y:s}),t=e.clientX,r=e.clientY,document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",a)},{once:!0})};document.addEventListener("mousemove",a)},x=({x:e,y:t})=>{const r=e+spectrumContainer.width/2-circleDragger.diameter/2,a=spectrumContainer.width/2-t-circleDragger.diameter/2;circleDragger.x=e,circleDragger.y=t,circleDragger.style.left=r+"px",circleDragger.style.top=a+"px"},f=(e,t,r)=>{e.data[4*t+0]=r[0],e.data[4*t+1]=r[1],e.data[4*t+2]=r[2],e.data[4*t+3]=255},b=(e,t)=>{console.log(t);let r=[],a=[],n=[],c=[],o=[];for(let i=0;i<circleSlider.width*circleSlider.width;i++){const d=i%circleSlider.width/circleSlider.height*2-1;const s=(circleSlider.height-Math.floor(i/circleSlider.width))/circleSlider.height*2-1;let l=0;l=d<0?(Math.atan(s/d)/Math.PI*2+1)/2*3:(Math.atan(s/d)/Math.PI*2+1)/2*3+3;const h=D(l),g=d*d+s*s;g<1&&g>t*t?(r[i-1]&&(a[i]={x:d,y:s}),r[i-circleSlider.width]&&(n[i]={x:d,y:s}),f(e,i,h)):(r[i]=!0,r[i-1]||(c[i-1]={x:d,y:s}),r[i-circleSlider.width]||(o[i-circleSlider.width]={x:d,y:s}))}circleSlider.getContext("2d").putImageData(e,0,0)},D=e=>{let t=255*(e-Math.floor(e));switch(Math.floor(e)){case 0:return[255,t,0];case 1:return[255-t,255,0];case 2:return[0,255,t];case 3:return[0,255-t,255];case 4:return[t,0,255];case 5:return[255,0,255-t];case 6:return[255,0,0]}};document.addEventListener("DOMContentLoaded",()=>{const e=Math.round(200*Math.sqrt(3)/2);document.body.style.cursor="default";const t=n("DIV",document.body,{id:"container"},{display:"flex"});n("DIV",t,{id:"picker"});M(200),y(10,e),p(30),(e=>{n("DIV",slider,{id:"dragger",status:0,diameter:e},{height:e+"px",width:e+"px","border-radius":"50%",top:-e/2+"px",left:-(e-slider.width)/2+"px",position:"absolute",background:a(canvas.color)}).addEventListener("mousedown",u)})(20),m(),((e,t,r=20)=>{const a=n("DIV",document.body,{id:"spectrumContainer",width:e},{background:"black",height:e+"px",width:e+"px",position:"relative"}),c=n("CANVAS",a,{id:"circleSlider",height:e,width:e});n("DIV",a,{id:"circleDragger",diameter:r,x:0,y:e/2},{height:r+"px",width:r+"px","border-radius":"50%",background:"black",position:"absolute",top:(t-r)/2+"px",left:(e-r)/2+"px"}).addEventListener("mousedown",w);const o=c.getContext("2d").createImageData(e,e);b(o,1-2*t/e)})(300,20),s(),l()})}]);
//# sourceMappingURL=bundle.js.map